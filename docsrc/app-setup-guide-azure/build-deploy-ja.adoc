
== ビルドとデプロイ

=== ソースコードのビルドとデプロイ

* クラウド環境が正常に作成されたら、ソースコードをビルドしてデプロイします。
* ソースコードがDockerイメージとしてビルドされたら、Dockerイメージはクラウド内のdockerレジストリへプッシュされます。
* `source-build.sh` スクリプトがすべてのソースコードをビルドし、DockerイメージをAzureコンテナレジストリへプッシュします。
* 以下のコマンドでビルドデプロイスクリプトを実行します。ビルドとデプロイは10分程度かかる場合があります。

[source,shell]
----
# from tools/cloud-setup/azure
$ bash source-build.sh
----

Dockerイメージのビルドとデプロイが成功したら、コンテナレジストリで以下の画像が確認できます。
Azureポータルを開いて確認してください。

**コンテナレジストリ:** crcameratool2024

|====
|リポジトリ | 説明

|caat-backend-service
|画像はバックエンドサーバーのソースファイルを含む

|caat-webadmin
|画像はWeb管理者アプリのビルドファイルを含む

|caat-webapp
|画像はWebコントラクターアプリのビルドファイルを含む

|====

* この時点ですべてのサービスはデプロイされます。
* URLはアクセス可能ですが、データベース内のデータはまだ空のため、アプリを使用することはできません。
* データベースへのデータの入力については次章で説明します。
